<!--pages/checkin/checkin.wxml-->
<view class="container">
  <!-- 打卡统计 -->
  <view class="stats-section">
    <view class="stat-card">
      <text class="stat-number">{{checkinDays}}</text>
      <text class="stat-label">连续打卡</text>
      <text class="stat-unit">天</text>
    </view>
    <view class="stat-card">
      <text class="stat-number">{{totalCheckinDays}}</text>
      <text class="stat-label">累计打卡</text>
      <text class="stat-unit">天</text>
    </view>
  </view>

  <!-- 打卡按钮 -->
  <view class="checkin-section">
    <view class="checkin-circle {{todayChecked ? 'checked' : ''}}" bindtap="doCheckin">
      <text class="checkin-icon">{{todayChecked ? '✓' : '📅'}}</text>
      <text class="checkin-text">{{todayChecked ? '已打卡' : '点击打卡'}}</text>
    </view>
  </view>

  <!-- AI 消息 -->
  <view class="ai-message" wx:if="{{aiMessage}}">
    <view class="ai-avatar">🤖</view>
    <view class="ai-bubble">
      <text class="ai-text">{{aiMessage}}</text>
    </view>
  </view>

  <!-- 打卡日历 -->
  <view class="calendar-section card">
    <view class="calendar-header">
      <text class="calendar-title">本月打卡记录</text>
      <text class="calendar-month">{{currentMonth}}</text>
    </view>
    
    <view class="calendar-grid">
      <view class="calendar-weekday" wx:for="{{['一', '二', '三', '四', '五', '六', '日']}}" wx:key="*this">
        {{item}}
      </view>
    </view>
    
    <view class="calendar-tip">
      <text class="tip-icon">💡</text>
      <text class="tip-text">每天打卡可获得梦想分，连续打卡奖励更多哦</text>
    </view>
  </view>

  <!-- 打卡奖励说明 -->
  <view class="reward-section card">
    <view class="section-title">打卡奖励</view>
    <view class="reward-list">
      <view class="reward-item">
        <text class="reward-icon">📅</text>
        <text class="reward-text">每日打卡 +5分</text>
      </view>
      <view class="reward-item">
        <text class="reward-icon">🔥</text>
        <text class="reward-text">连续3天 +10分</text>
      </view>
      <view class="reward-item">
        <text class="reward-icon">💪</text>
        <text class="reward-text">连续7天 +30分</text>
      </view>
      <view class="reward-item">
        <text class="reward-icon">👑</text>
        <text class="reward-text">连续30天 +100分</text>
      </view>
    </view>
  </view>
</view>
